<%= form_tag search_mtg_cards_path , :method => "put", :id => "search-form" do %>   

  <h1><%= text_field_tag "name", params[:name], {:class => "search-text ui-autocomplete-input" , :placeholder => "Search cards..." , "data-autocomplete" => autocomplete_name_mtg_cards_path }%></h1>



  <%# autocomplete_mtg_card_name_mtg_cards_path%>
  <div class="" style="margin:15px;">

    
    <div class="search-divider">Advanced Search:</div>

    <div class="mt-m search-color">
      <%#= label_tag "Color:" %>
      <table width="100%" cellspacing='0'>
        <tr>
          <td align="center">
            <%= image_tag "mtg/mana_symbols/mana_w.jpg" , :class => "search-color-icon" %>
            <br/>
            <%= check_box_tag "white", "W", params[:white], :class => "search-color-check" %>                        
          </td>
          <td align="center">
            <%= image_tag "mtg/mana_symbols/mana_u.jpg" , :class => "search-color-icon" %>
            <br/>
            <%= check_box_tag "blue", "U", params[:blue], :class => "search-color-check" %>
          </td>
          <td align="center">
            <%= image_tag "mtg/mana_symbols/mana_b.jpg" , :class => "search-color-icon" %>
            <br/>
            <%= check_box_tag "black", "B", params[:black], :class => "search-color-check" %>
          </td>
          <td align="center">
            <%= image_tag "mtg/mana_symbols/mana_r.jpg" , :class => "search-color-icon" %>
            <br/>
            <%= check_box_tag "red", "R", params[:red], :class => "search-color-check" %>            
          </td>
          <td align="center">
            <%= image_tag "mtg/mana_symbols/mana_g.jpg" , :class => "search-color-icon" %>
            <br/>
            <%= check_box_tag "green", "G", params[:green], :class => "search-color-check" %>            
          </td>                                
        </tr>
      </table>
    </div>

    <div class= "mt-m search-set">
      <%#= label_tag "Set:" %>
      <%= select_tag "set" , options_for_select(Mtg::Set.where(:active => true).to_a.collect {|s| [ s.name, s.code ] }, :selected => params[:set]), {:tabindex => "-1", :include_blank => true, "data-placeholder" => "Set...", :class => "search-select chzn-select"} %>
    </div>
    
    <div class="mt-m search-type">
      <%#= label_tag "Type:" %>
      <%= select_tag "type", options_for_select(card_type_list, :selected => params[:type]) , {:tabindex => "-1", :include_blank => true, "data-placeholder" => "Type...", :class => "search-select chzn-select"} %>            
    </div>

    <div class="mt-m search-subtype">
      <%#= label_tag "Subtype:" %>
      <%= select_tag "subtype", options_for_select(card_subtype_list, :selected => params[:subtype]) , {:tabindex => "-1", :include_blank => true, "data-placeholder" => "Subtype...", :class => "search-select chzn-select"} %>            
      <%#= render :partial => "mtg/cards/search_subtype_select" %>      
    </div>          
    
    <div class="mt-m">
      <div class="search-rarity">
        <%#= label_tag "Rarity:" %>      
        <%= select_tag "rarity" , options_for_select(rarity_list, :selected => params[:rarity]) , {:tabindex => "-1", :include_blank => true, "data-placeholder" => "Rarity...", :class => "search-select chzn-select chzn-nosearch"} %>                        
      </div>
    </div>
    
    <div class="mt-m search-artist">
      <%#= label_tag "Artist:" %>
      <%= select_tag "artist" , options_for_select(artist_list, :selected => params[:artist]) , {:tabindex => "-1", :include_blank => true, "data-placeholder" => "Artist...", :class => "search-select chzn-select"} %>                        
      <%#= render :partial => "mtg/cards/search_artist_select" %>
    </div>
    
    <%# TODO: fix delete on abilities not properly removing %>
    <div class="mt-m search-abilities">
      <%#= label_tag "Abilities:" %>
      <%= select_tag "abilities" , options_for_select(Mtg::CardsHelper::ABILITY_LIST, :selected => params[:abilities]), { :multiple => true, :class => "search-select-multi chzn-select", :style => "", "data-placeholder" => "Abilities..."} %>                        
    </div>    

    <div class="mt-m search-divider">Filter by Seller:</div>
    <div class="mt-m search-seller">
      <%= text_field_tag "seller", params[:seller], {:class => "search-text ui-autocomplete-input" , :placeholder => "Search sellers..." , "data-autocomplete" => autocomplete_name_users_path }%>
      <%= text_field_tag "seller_id", params[:seller_id], :style => "display:none;" %>
    </div>
          
    <br/>
    <div id="clear-filters">
      Clear All
    </div>

    <%= submit_tag "Search", :class => "submit search-submit right" %>
    <br/>
    
  </div>
<% end %>
